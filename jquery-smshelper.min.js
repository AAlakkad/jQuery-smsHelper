/**
 * smsHelper - a jQuery plugin helps with handling the client-side SMS text fields
 * 
 * 
 *
 *
 * @author Ammar Alakkad <am.alakkad@gmail.com>
 * @website http://alakkad.me/
 */
(function(a){a.fn.extend({smsHelper:function(l){var b=this[0],d=160,g={limit:false,chunk:1,infoId:"smsinfo",infoText:"",firstBracket:"(",lastBracket:")"},e=a.extend(g,l);function h(m){for(i=0;i<m.length;i++){code=m.charCodeAt(i);if(code>127){return true;}}return false;}function j(m){if(h(m)){d=70;}else{d=160;}return d;}function c(m,o){var n=e.infoText+m+" "+e.firstBracket+o+e.lastBracket;a("#"+e.infoId).html(n);}function f(q){var o=a(q).val(),n=o.length,p=Math.ceil(o.length/j(o)),m=e.chunk*j(o);if(n>m){a(q).val(o.substr(0,m));return false;}else{c(n,p);return true;}}function k(){if(a("#"+e.infoId).length==0){a(b).after('<p id="'+e.infoId+'">asd</p>');}c(0,0);a(b).bind("keyup keydown",function(){var n=a(b).val(),m=n.length,o=Math.ceil(n.length/j(n));if(e.limit==true){f(b);}else{c(m,o);}});}k();}});})(jQuery);
